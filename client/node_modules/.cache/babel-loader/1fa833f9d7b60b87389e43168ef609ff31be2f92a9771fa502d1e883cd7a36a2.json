{"ast":null,"code":"import axios from'axios';const API_BASE_URL=process.env.REACT_APP_API_URL||'http://localhost:8000';const api=axios.create({baseURL:API_BASE_URL,timeout:120000// 120 seconds timeout for AI analysis\n});// Request interceptor for adding auth headers if needed\napi.interceptors.request.use(config=>{// Add any auth headers here if needed\nreturn config;},error=>{return Promise.reject(error);});// Response interceptor for error handling\napi.interceptors.response.use(response=>{return response;},error=>{console.error('API Error:',error);if(error.code==='ECONNABORTED'){return Promise.reject(new Error('Request timed out. The analysis is taking longer than expected. Please try again with smaller files or check your internet connection.'));}else if(error.response){var _error$response$data;// Server responded with error status\nconst message=((_error$response$data=error.response.data)===null||_error$response$data===void 0?void 0:_error$response$data.error)||'An error occurred';return Promise.reject(new Error(message));}else if(error.request){// Request was made but no response received\nreturn Promise.reject(new Error('No response from server. Please check your connection.'));}else{// Something else happened\nreturn Promise.reject(new Error('An unexpected error occurred.'));}});// API functions\nexport const apiService={// Analyze documents\nanalyzeDocuments:async(tenderFile,proposalFile)=>{const formData=new FormData();formData.append('tender',tenderFile);formData.append('proposal',proposalFile);const response=await api.post('/api/analyze',formData,{headers:{'Content-Type':'multipart/form-data'},timeout:120000// 2 minutes for document analysis\n});return response.data;},// Chat with AI\nchat:async(message,context)=>{const response=await api.post('/api/chat',{message,context});return response.data;},// Health check\nhealthCheck:async()=>{const response=await api.get('/');return response.data;}};export default apiService;","map":{"version":3,"names":["axios","API_BASE_URL","process","env","REACT_APP_API_URL","api","create","baseURL","timeout","interceptors","request","use","config","error","Promise","reject","response","console","code","Error","_error$response$data","message","data","apiService","analyzeDocuments","tenderFile","proposalFile","formData","FormData","append","post","headers","chat","context","healthCheck","get"],"sources":["/Users/bnikheel/tender_analizer/client/src/services/api.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_BASE_URL = process.env.REACT_APP_API_URL || 'http://localhost:8000';\n\nconst api = axios.create({\n  baseURL: API_BASE_URL,\n  timeout: 120000, // 120 seconds timeout for AI analysis\n});\n\n// Request interceptor for adding auth headers if needed\napi.interceptors.request.use(\n  (config) => {\n    // Add any auth headers here if needed\n    return config;\n  },\n  (error) => {\n    return Promise.reject(error);\n  }\n);\n\n// Response interceptor for error handling\napi.interceptors.response.use(\n  (response) => {\n    return response;\n  },\n  (error) => {\n    console.error('API Error:', error);\n    \n    if (error.code === 'ECONNABORTED') {\n      return Promise.reject(new Error('Request timed out. The analysis is taking longer than expected. Please try again with smaller files or check your internet connection.'));\n    } else if (error.response) {\n      // Server responded with error status\n      const message = error.response.data?.error || 'An error occurred';\n      return Promise.reject(new Error(message));\n    } else if (error.request) {\n      // Request was made but no response received\n      return Promise.reject(new Error('No response from server. Please check your connection.'));\n    } else {\n      // Something else happened\n      return Promise.reject(new Error('An unexpected error occurred.'));\n    }\n  }\n);\n\n// API functions\nexport const apiService = {\n  // Analyze documents\n  analyzeDocuments: async (tenderFile, proposalFile) => {\n    const formData = new FormData();\n    formData.append('tender', tenderFile);\n    formData.append('proposal', proposalFile);\n\n    const response = await api.post('/api/analyze', formData, {\n      headers: {\n        'Content-Type': 'multipart/form-data',\n      },\n      timeout: 120000, // 2 minutes for document analysis\n    });\n\n    return response.data;\n  },\n\n  // Chat with AI\n  chat: async (message, context) => {\n    const response = await api.post('/api/chat', {\n      message,\n      context,\n    });\n\n    return response.data;\n  },\n\n  // Health check\n  healthCheck: async () => {\n    const response = await api.get('/');\n    return response.data;\n  },\n};\n\nexport default apiService; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}