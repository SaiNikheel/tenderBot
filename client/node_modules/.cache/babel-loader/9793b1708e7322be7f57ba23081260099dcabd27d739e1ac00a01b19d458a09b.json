{"ast":null,"code":"import React,{useState,useRef,useEffect}from'react';import{motion}from'framer-motion';import{Send,Bot,User,ArrowLeft,FileText,MessageCircle}from'lucide-react';import apiService from'../services/api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ChatPage=_ref=>{var _documents$tender2,_documents$proposal2;let{documents,analysisResult,onBackToReport}=_ref;const[messages,setMessages]=useState([{id:1,type:'bot',content:\"Hello! I'm TenderBot, your AI assistant. I've analyzed your tender and proposal documents. You can ask me questions about:\\n      \\n\\u2022 Compliance requirements and matches\\n\\u2022 Missing or insufficient criteria\\n\\u2022 Recommendations for improvement\\n\\u2022 Specific sections of either document\\n\\u2022 General tender analysis questions\\n\\nWhat would you like to know?\",timestamp:new Date()}]);const[inputMessage,setInputMessage]=useState('');const[isTyping,setIsTyping]=useState(false);const[error,setError]=useState(null);const messagesEndRef=useRef(null);const scrollToBottom=()=>{var _messagesEndRef$curre;(_messagesEndRef$curre=messagesEndRef.current)===null||_messagesEndRef$curre===void 0?void 0:_messagesEndRef$curre.scrollIntoView({behavior:'smooth'});};useEffect(()=>{scrollToBottom();},[messages]);const handleSendMessage=async()=>{if(!inputMessage.trim())return;const userMessage={id:messages.length+1,type:'user',content:inputMessage,timestamp:new Date()};setMessages(prev=>[...prev,userMessage]);setInputMessage('');setIsTyping(true);setError(null);try{var _documents$tender,_documents$proposal;// Call the actual API\nconst response=await apiService.chat(inputMessage,{analysisResult,documents:{tender:(_documents$tender=documents.tender)===null||_documents$tender===void 0?void 0:_documents$tender.name,proposal:(_documents$proposal=documents.proposal)===null||_documents$proposal===void 0?void 0:_documents$proposal.name}});const botResponse={id:messages.length+2,type:'bot',content:response.response,timestamp:new Date()};setMessages(prev=>[...prev,botResponse]);}catch(error){console.error('Chat failed:',error);setError(error.message);const botResponse={id:messages.length+2,type:'bot',content:\"I apologize, but I'm experiencing technical difficulties. Please try again or rephrase your question about the tender analysis.\",timestamp:new Date()};setMessages(prev=>[...prev,botResponse]);}finally{setIsTyping(false);}};const handleKeyPress=e=>{if(e.key==='Enter'&&!e.shiftKey){e.preventDefault();handleSendMessage();}};return/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-6xl mx-auto\",children:[/*#__PURE__*/_jsxs(motion.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:0.5},className:\"text-center mb-8\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold text-gray-900 mb-4\",children:\"Chat with TenderBot\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-lg text-gray-600 mb-6\",children:\"Ask questions about your tender analysis and get AI-powered insights\"}),/*#__PURE__*/_jsxs(\"button\",{onClick:onBackToReport,className:\"btn-secondary flex items-center space-x-2 mx-auto\",children:[/*#__PURE__*/_jsx(ArrowLeft,{className:\"h-5 w-5\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Back to Report\"})]})]}),error&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:\"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center space-x-2\",children:/*#__PURE__*/_jsxs(\"span\",{className:\"text-error-800\",children:[\"Chat failed: \",error]})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid lg:grid-cols-4 gap-6\",children:[/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:0.5,delay:0.1},className:\"lg:col-span-1\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card sticky top-4\",children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-lg font-semibold text-gray-900 mb-4 flex items-center\",children:[/*#__PURE__*/_jsx(FileText,{className:\"h-5 w-5 mr-2 text-primary-600\"}),\"Document Summary\"]}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Tender Document\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:(_documents$tender2=documents.tender)===null||_documents$tender2===void 0?void 0:_documents$tender2.name})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Proposal Document\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-600\",children:(_documents$proposal2=documents.proposal)===null||_documents$proposal2===void 0?void 0:_documents$proposal2.name})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"border-t pt-4\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"font-medium text-gray-900 mb-2\",children:\"Analysis Summary\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-2 text-sm\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Compliance Rate:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"font-medium text-primary-600\",children:[analysisResult.summary.complianceRate,\"%\"]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Matched:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-success-600\",children:analysisResult.summary.matchedRequirements})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Mismatched:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-error-600\",children:analysisResult.summary.mismatchedRequirements})]}),analysisResult.summary.riskLevel&&/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-between\",children:[/*#__PURE__*/_jsx(\"span\",{children:\"Risk Level:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"font-medium \".concat(analysisResult.summary.riskLevel==='low'?'text-success-600':analysisResult.summary.riskLevel==='medium'?'text-warning-600':'text-error-600'),children:analysisResult.summary.riskLevel})]})]})]})]})]})}),/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:0.5,delay:0.2},className:\"lg:col-span-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"card h-[600px] flex flex-col\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 overflow-y-auto p-4 space-y-4\",children:[messages.map(message=>/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:0.3},className:\"flex \".concat(message.type==='user'?'justify-end':'justify-start'),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3 max-w-[80%] \".concat(message.type==='user'?'flex-row-reverse space-x-reverse':''),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center \".concat(message.type==='user'?'bg-primary-600 text-white':'bg-gray-200 text-gray-600'),children:message.type==='user'?/*#__PURE__*/_jsx(User,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(Bot,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"rounded-lg p-3 \".concat(message.type==='user'?'bg-primary-600 text-white':'bg-gray-100 text-gray-900'),children:[/*#__PURE__*/_jsx(\"div\",{className:\"whitespace-pre-wrap text-sm\",children:message.content}),/*#__PURE__*/_jsx(\"div\",{className:\"text-xs mt-2 \".concat(message.type==='user'?'text-primary-100':'text-gray-500'),children:message.timestamp.toLocaleTimeString()})]})]})},message.id)),isTyping&&/*#__PURE__*/_jsx(motion.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:\"flex justify-start\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-start space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center\",children:/*#__PURE__*/_jsx(Bot,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-gray-100 rounded-lg p-3\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.1s'}}),/*#__PURE__*/_jsx(\"div\",{className:\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\",style:{animationDelay:'0.2s'}})]})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:messagesEndRef})]}),/*#__PURE__*/_jsx(\"div\",{className:\"border-t border-gray-200 p-4\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex space-x-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"textarea\",{value:inputMessage,onChange:e=>setInputMessage(e.target.value),onKeyPress:handleKeyPress,placeholder:\"Ask a question about your tender analysis...\",className:\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none\",rows:\"2\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSendMessage,disabled:!inputMessage.trim()||isTyping,className:\"px-4 py-2 rounded-lg flex items-center space-x-2 \".concat(!inputMessage.trim()||isTyping?'bg-gray-300 text-gray-500 cursor-not-allowed':'bg-primary-600 text-white hover:bg-primary-700'),children:/*#__PURE__*/_jsx(Send,{className:\"h-4 w-4\"})})]})})]})})]})]});};export default ChatPage;","map":{"version":3,"names":["React","useState","useRef","useEffect","motion","Send","Bot","User","ArrowLeft","FileText","MessageCircle","apiService","jsx","_jsx","jsxs","_jsxs","ChatPage","_ref","_documents$tender2","_documents$proposal2","documents","analysisResult","onBackToReport","messages","setMessages","id","type","content","timestamp","Date","inputMessage","setInputMessage","isTyping","setIsTyping","error","setError","messagesEndRef","scrollToBottom","_messagesEndRef$curre","current","scrollIntoView","behavior","handleSendMessage","trim","userMessage","length","prev","_documents$tender","_documents$proposal","response","chat","tender","name","proposal","botResponse","console","message","handleKeyPress","e","key","shiftKey","preventDefault","className","children","div","initial","opacity","y","animate","transition","duration","onClick","x","delay","summary","complianceRate","matchedRequirements","mismatchedRequirements","riskLevel","concat","map","toLocaleTimeString","style","animationDelay","ref","value","onChange","target","onKeyPress","placeholder","rows","disabled"],"sources":["/Users/bnikheel/tender_analizer/client/src/components/ChatPage.js"],"sourcesContent":["import React, { useState, useRef, useEffect } from 'react';\nimport { motion } from 'framer-motion';\nimport { Send, Bot, User, ArrowLeft, FileText, MessageCircle } from 'lucide-react';\nimport apiService from '../services/api';\n\nconst ChatPage = ({ documents, analysisResult, onBackToReport }) => {\n  const [messages, setMessages] = useState([\n    {\n      id: 1,\n      type: 'bot',\n      content: `Hello! I'm TenderBot, your AI assistant. I've analyzed your tender and proposal documents. You can ask me questions about:\n      \n• Compliance requirements and matches\n• Missing or insufficient criteria\n• Recommendations for improvement\n• Specific sections of either document\n• General tender analysis questions\n\nWhat would you like to know?`,\n      timestamp: new Date()\n    }\n  ]);\n  const [inputMessage, setInputMessage] = useState('');\n  const [isTyping, setIsTyping] = useState(false);\n  const [error, setError] = useState(null);\n  const messagesEndRef = useRef(null);\n\n  const scrollToBottom = () => {\n    messagesEndRef.current?.scrollIntoView({ behavior: 'smooth' });\n  };\n\n  useEffect(() => {\n    scrollToBottom();\n  }, [messages]);\n\n  const handleSendMessage = async () => {\n    if (!inputMessage.trim()) return;\n\n    const userMessage = {\n      id: messages.length + 1,\n      type: 'user',\n      content: inputMessage,\n      timestamp: new Date()\n    };\n\n    setMessages(prev => [...prev, userMessage]);\n    setInputMessage('');\n    setIsTyping(true);\n    setError(null);\n\n    try {\n      // Call the actual API\n      const response = await apiService.chat(inputMessage, {\n        analysisResult,\n        documents: {\n          tender: documents.tender?.name,\n          proposal: documents.proposal?.name\n        }\n      });\n\n      const botResponse = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: response.response,\n        timestamp: new Date()\n      };\n\n      setMessages(prev => [...prev, botResponse]);\n    } catch (error) {\n      console.error('Chat failed:', error);\n      setError(error.message);\n      \n      const botResponse = {\n        id: messages.length + 2,\n        type: 'bot',\n        content: \"I apologize, but I'm experiencing technical difficulties. Please try again or rephrase your question about the tender analysis.\",\n        timestamp: new Date()\n      };\n      setMessages(prev => [...prev, botResponse]);\n    } finally {\n      setIsTyping(false);\n    }\n  };\n\n  const handleKeyPress = (e) => {\n    if (e.key === 'Enter' && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  return (\n    <div className=\"max-w-6xl mx-auto\">\n      {/* Header */}\n      <motion.div\n        initial={{ opacity: 0, y: 20 }}\n        animate={{ opacity: 1, y: 0 }}\n        transition={{ duration: 0.5 }}\n        className=\"text-center mb-8\"\n      >\n        <h2 className=\"text-3xl font-bold text-gray-900 mb-4\">\n          Chat with TenderBot\n        </h2>\n        <p className=\"text-lg text-gray-600 mb-6\">\n          Ask questions about your tender analysis and get AI-powered insights\n        </p>\n        \n        <button\n          onClick={onBackToReport}\n          className=\"btn-secondary flex items-center space-x-2 mx-auto\"\n        >\n          <ArrowLeft className=\"h-5 w-5\" />\n          <span>Back to Report</span>\n        </button>\n      </motion.div>\n\n      {error && (\n        <motion.div\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mb-6 p-4 bg-error-50 border border-error-200 rounded-lg\"\n        >\n          <div className=\"flex items-center space-x-2\">\n            <span className=\"text-error-800\">\n              Chat failed: {error}\n            </span>\n          </div>\n        </motion.div>\n      )}\n\n      <div className=\"grid lg:grid-cols-4 gap-6\">\n        {/* Document Summary Panel */}\n        <motion.div\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.5, delay: 0.1 }}\n          className=\"lg:col-span-1\"\n        >\n          <div className=\"card sticky top-4\">\n            <h3 className=\"text-lg font-semibold text-gray-900 mb-4 flex items-center\">\n              <FileText className=\"h-5 w-5 mr-2 text-primary-600\" />\n              Document Summary\n            </h3>\n            \n            <div className=\"space-y-4\">\n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-2\">Tender Document</h4>\n                <p className=\"text-sm text-gray-600\">{documents.tender?.name}</p>\n              </div>\n              \n              <div>\n                <h4 className=\"font-medium text-gray-900 mb-2\">Proposal Document</h4>\n                <p className=\"text-sm text-gray-600\">{documents.proposal?.name}</p>\n              </div>\n              \n              <div className=\"border-t pt-4\">\n                <h4 className=\"font-medium text-gray-900 mb-2\">Analysis Summary</h4>\n                <div className=\"space-y-2 text-sm\">\n                  <div className=\"flex justify-between\">\n                    <span>Compliance Rate:</span>\n                    <span className=\"font-medium text-primary-600\">{analysisResult.summary.complianceRate}%</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Matched:</span>\n                    <span className=\"font-medium text-success-600\">{analysisResult.summary.matchedRequirements}</span>\n                  </div>\n                  <div className=\"flex justify-between\">\n                    <span>Mismatched:</span>\n                    <span className=\"font-medium text-error-600\">{analysisResult.summary.mismatchedRequirements}</span>\n                  </div>\n                  {analysisResult.summary.riskLevel && (\n                    <div className=\"flex justify-between\">\n                      <span>Risk Level:</span>\n                      <span className={`font-medium ${\n                        analysisResult.summary.riskLevel === 'low' ? 'text-success-600' :\n                        analysisResult.summary.riskLevel === 'medium' ? 'text-warning-600' :\n                        'text-error-600'\n                      }`}>\n                        {analysisResult.summary.riskLevel}\n                      </span>\n                    </div>\n                  )}\n                </div>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n\n        {/* Chat Interface */}\n        <motion.div\n          initial={{ opacity: 0, x: 20 }}\n          animate={{ opacity: 1, x: 0 }}\n          transition={{ duration: 0.5, delay: 0.2 }}\n          className=\"lg:col-span-3\"\n        >\n          <div className=\"card h-[600px] flex flex-col\">\n            {/* Messages */}\n            <div className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n              {messages.map((message) => (\n                <motion.div\n                  key={message.id}\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  transition={{ duration: 0.3 }}\n                  className={`flex ${message.type === 'user' ? 'justify-end' : 'justify-start'}`}\n                >\n                  <div className={`flex items-start space-x-3 max-w-[80%] ${\n                    message.type === 'user' ? 'flex-row-reverse space-x-reverse' : ''\n                  }`}>\n                    <div className={`flex-shrink-0 w-8 h-8 rounded-full flex items-center justify-center ${\n                      message.type === 'user' \n                        ? 'bg-primary-600 text-white' \n                        : 'bg-gray-200 text-gray-600'\n                    }`}>\n                      {message.type === 'user' ? (\n                        <User className=\"h-4 w-4\" />\n                      ) : (\n                        <Bot className=\"h-4 w-4\" />\n                      )}\n                    </div>\n                    <div className={`rounded-lg p-3 ${\n                      message.type === 'user'\n                        ? 'bg-primary-600 text-white'\n                        : 'bg-gray-100 text-gray-900'\n                    }`}>\n                      <div className=\"whitespace-pre-wrap text-sm\">{message.content}</div>\n                      <div className={`text-xs mt-2 ${\n                        message.type === 'user' ? 'text-primary-100' : 'text-gray-500'\n                      }`}>\n                        {message.timestamp.toLocaleTimeString()}\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              ))}\n              \n              {isTyping && (\n                <motion.div\n                  initial={{ opacity: 0, y: 10 }}\n                  animate={{ opacity: 1, y: 0 }}\n                  className=\"flex justify-start\"\n                >\n                  <div className=\"flex items-start space-x-3\">\n                    <div className=\"flex-shrink-0 w-8 h-8 rounded-full bg-gray-200 text-gray-600 flex items-center justify-center\">\n                      <Bot className=\"h-4 w-4\" />\n                    </div>\n                    <div className=\"bg-gray-100 rounded-lg p-3\">\n                      <div className=\"flex space-x-1\">\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\"></div>\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.1s' }}></div>\n                        <div className=\"w-2 h-2 bg-gray-400 rounded-full animate-bounce\" style={{ animationDelay: '0.2s' }}></div>\n                      </div>\n                    </div>\n                  </div>\n                </motion.div>\n              )}\n              \n              <div ref={messagesEndRef} />\n            </div>\n\n            {/* Input */}\n            <div className=\"border-t border-gray-200 p-4\">\n              <div className=\"flex space-x-3\">\n                <div className=\"flex-1\">\n                  <textarea\n                    value={inputMessage}\n                    onChange={(e) => setInputMessage(e.target.value)}\n                    onKeyPress={handleKeyPress}\n                    placeholder=\"Ask a question about your tender analysis...\"\n                    className=\"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-transparent resize-none\"\n                    rows=\"2\"\n                  />\n                </div>\n                <button\n                  onClick={handleSendMessage}\n                  disabled={!inputMessage.trim() || isTyping}\n                  className={`px-4 py-2 rounded-lg flex items-center space-x-2 ${\n                    !inputMessage.trim() || isTyping\n                      ? 'bg-gray-300 text-gray-500 cursor-not-allowed'\n                      : 'bg-primary-600 text-white hover:bg-primary-700'\n                  }`}\n                >\n                  <Send className=\"h-4 w-4\" />\n                </button>\n              </div>\n            </div>\n          </div>\n        </motion.div>\n      </div>\n    </div>\n  );\n};\n\nexport default ChatPage; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}